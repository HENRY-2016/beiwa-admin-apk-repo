<!DOCTYPE html>
<html>
<head>
	<title>TECH GUI</title>
	<meta charset="utf-8">
   <link rel="stylesheet" href="static/js/bootstrap.min.css">
  <script src="static/js/jquery.min.js"></script>
  <script src="static/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="static/css/solar.css">

   <script >
    var data_source_url = "http://192.168.43.1:44444/" 
    // var data_source_url = "http://127.0.0.1:44444/"   
    </script>
</head>
<body  class="Body" onload="Retrive_offline_data ()">
    
       <!--************************************************************** -->
    <div  id= "Navigetion" class="header">
<!--========== CLOSE  -->
        <a href="javascript:void(0)" class="closebtn" onclick="closeNavi()"><label class="CloseIcon">&times;</label></a>
            <!-- unik icon -->
            <div class="imgcontainer">
                <br>
                    <img src="static/img/unik.png" class="image">
                    
                </div>

            <center>
            	<a href="index.html">Home</a>
                <a href="user_login.html">User</a>
                <a href="supplier_login.html">Suppliers</a>
                <a href="tech_login.html">Technician</a>
            <center>
</div>
	 <center><label style="background-color: white;color: blue;font-size: 18px; margin-left: 15px"> Solar equipment defects</label></center>
    <div id="NaviDiv">
<!--======= OPEN  =====================-->
        <span style="font-size:45px;cursor:pointer; color:white;" class="MenuBtn" onclick="openMenus()"><image src="static/img/nav.png" width="52px" height="65px"></image></span>
    </div>
    <script>
        function openMenus()
            {
                document.getElementById("Navigetion").style.width = "240px"
            }
        function closeNavi ()
            {
                document.getElementById("Navigetion").style.width = "0"
            }    
    </script><br>

<!-- ***************************************************** -->

<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++ -->
	<center><p class="gui_type" > Loged in as a technician</p> </center>
	<center><p class="lable_menu_title" > Customers problem </p> </center>
	<div class="RegistryOffice">
	    <div id="RegistryNewBtnDiv">
	        <label class="WhatsNewBtn" onclick="load_cust_problem()">Problem</label>
	    </div>
	    <div id="saveBtnDIV">
	        <label class="WhatsNewBtn" onclick="Save_cust_problem()"> Save</label>
	    </div> <br><br>
	    
	<p id="cust_problem">new</p>
	</div>

	<center><p class="comments_on_problem" > Comment on a Problem </p> </center>
        <form action = "http://192.168.43.1:44444/tech_comments" method = "POST">
        <!-- <form action = "http://127.0.0.1:44444/tech_comments" method = "POST"> -->
		    <div class="form-group">
		    	<label>Problem Name</label>
		    <input type="text" class="form-control" name="problem_name"
		    placeholder=" Type the problem ">
		    </div>

		    <div class="form-group">
		    	<label>Comments</label>
		    <input type="text" class="form-control" name="problem_comment"
		    placeholder=" Type your Comment ">
		    </div>
	    <button type="submit" class="btn btn-primary">Post</button>
	</form><br>
<!-- ++++++++++++++++++++++++++++++++++++++++++++++++++ -->
	<center><p class="lable_menu_title" > New Solar Equipments </p> </center>
	<div class="RegistryOffice">
	    <div id="RegistryNewBtnDiv_tech">
	        <label class="WhatsNewBtn" onclick="Load_eq_tech()">Equipments</label>
	    </div>
	    <div id="saveBtnDIV">
	        <label class="WhatsNewBtn" onclick="Save_eq_tech()"> Save</label>
	    </div> <br><br>
	    
	   <p id="eq_tech">new </p>
	</div>
<script>
      function Save_eq_tech()
          {
              var  registery_data = document.getElementById ("eq_tech").innerHTML;
              localStorage.setItem("eq_tech_new", registery_data);
          }
 function Save_cust_problem()
          {
              var  registery_data = document.getElementById ("cust_problem").innerHTML;
              localStorage.setItem("cust_problem_db", registery_data);
          }
                    
</script>
<script>
	function Load_eq_tech()
	    {
	        
	        var doc1 = new XMLHttpRequest();
	        doc1.onreadystatechange = function()
	        {
	          if (this.readyState == 4 && this.status == 200)
	              {
	                  document.getElementById("eq_tech").innerHTML = this.responseText;
	              }
	        };
	        doc1.open("GET",data_source_url + "GET_eq_tech",true);
	        doc1.send();

	    }
function load_cust_problem()
{
    
    var doc1 = new XMLHttpRequest();
    doc1.onreadystatechange = function()
    {
      if (this.readyState == 4 && this.status == 200)
          {
              document.getElementById("cust_problem").innerHTML = this.responseText;
          }
    };
    doc1.open("GET",data_source_url + "GET_cust_problem",true);
    doc1.send();

}

function Retrive_offline_data ()
{
document.getElementById("eq_tech").innerHTML = localStorage.getItem("eq_tech_new");
document.getElementById("cust_problem").innerHTML = localStorage.getItem("cust_problem_db");

}
</script>        
</body>
</html>
